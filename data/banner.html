<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Banner</title>
        <style>
            /* @font-face {
                font-family: "Geist";
                src: url("{{ font }}") format("woff2");
            } */
        </style>
    </head>
    <body
        class="bg-transparent w-[1200px] h-[630px] grid grid-cols-2 grid-rows-2 p-4 gap-4 antialiased"
    >
        {{#each lobbies as | lobby | }}
        <div class="border-gray-300 relative overflow-hidden rounded">
            <img
                src="{{ beatmap/image }}"
                class="absolute inset-0 object-cover object-center w-full h-full -z-10"
            />
            <div
                class="p-4 w-full h-full flex flex-col justify-between items-start gap-4 backdrop-blur-sm bg-black/50 text-white drop-shadow-sm"
            >
                <div
                    class="flex items-center justify-between gap-2 w-full flex-none"
                >
                    <p class="font-bold tracking-wide text-lg">{{ name }}</p>
                    <p class="font-bold text-2xl tracking-wide">
                        {{ slotsOccupied }} / {{ slots }}
                    </p>
                </div>
                <div class="flex-1 grid grid-cols-4 grid-rows-4 w-full gap-1">
                    {{#each slotsArray as | slot | }}
                    <div
                        class="flex items-center justify-center rounded bg-black/50 text-gray-100"
                    >
                        <p
                            class="line-clamp-1 whitespace-nowrap text-nowrap overflow-ellipsis"
                        >
                            {{#if isHost}}üëë{{/if}} {{user/username}}
                        </p>
                    </div>
                    {{/each}}
                </div>
                <div class="space-y-10 flex-none w-full">
                    <p>{{ beatmap/artist }} - {{ beatmap/title }}</p>
                    <p>{{ beatmap/version }}</p>
                    <div class="flex items-center justify-between w-full">
                        <div class="flex items-center gap-2">
                            <p>{{#each beatmap/starsArray}}‚≠ê{{/each}}</p>
                        </div>
                        <p class="text-gray-100/75">
                            {{#if playing}}‚ñ∂Ô∏è Match in progress{{else}}‚èπÔ∏è
                            Changing beatmap{{/if}}
                        </p>
                    </div>
                </div>
            </div>
        </div>
        {{/each}}
        <style>
            {{styles}}

            body {
                font-family: 'Geist';
            }
        </style>
    </body>
</html>
